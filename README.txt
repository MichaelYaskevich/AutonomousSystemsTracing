Скрипт принимает на вход ip адрес или доменное имя и возвращает таблицу с информацией о маршрутизаторах в пути, по которому прошел пакет.
Для каждого маршрутизатора указан ip, страна и автономная система.

Основные функции:
1) trace(proc) принимает результат subprocess.Popen("tracert -d ip_or_domain_name")
и построчно читает файл, доставая нужную информацию о маршрутизаторах и упаковывая ее в кортежи.
trace генерирует кортежи находу, что позволяет итерироваться по нему во время трассировки.

2) run(ip_or_domain_name, process_router) принимает аргумент для функции cmd: tracert -d, а также функцию process_router,
которая обрабатывает кортеж с информацией о маршрутизаторе. process_router вызывается по мере поступления объектов из trace.
При стандартном запуске в качестве process_router передается print, а в тестах метод append листа для результата.

Скрины работы в Images